<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />

    <script src="../js/d3.v3.min.js"></script>
    <script src="../js/grph.js"></script>

    <link href="../css/base.css" rel="stylesheet" type="text/css" />
    <link href="../css/colours.css" rel="stylesheet" type="text/css" />
  </head>
  <body>

    <div id="graph">
    </div>

    <script type="text/javascript">

      var w = 700, h = 400;

      var data = [
        {'year' : 2008, 'gender' : 1, 'age' : '0-50', 'value' : 100, 'value2' : 100},
        {'year' : 2009, 'gender' : 1, 'age' : '0-50', 'value' : 110, 'value2' : 120}, 
        {'year' : 2010, 'gender' : 1, 'age' : '0-50', 'value' : 123, 'value2' : 150}, 
        {'year' : 2011, 'gender' : 1, 'age' : '0-50', 'value' : 129, 'value2' : 120}, 
        {'year' : 2012, 'gender' : 1, 'age' : '0-50', 'value' : 135, 'value2' : 200}, 
        {'year' : 2013, 'gender' : 1, 'age' : '0-50', 'value' : 148, 'value2' : 130},
        {'year' : 2008, 'gender' : 2, 'age' : '0-50', 'value' : 120, 'value2' : 130},
        {'year' : 2009, 'gender' : 2, 'age' : '0-50', 'value' : 115, 'value2' : 110}, 
        {'year' : 2010, 'gender' : 2, 'age' : '0-50', 'value' : 133, 'value2' : 150}, 
        {'year' : 2011, 'gender' : 2, 'age' : '0-50', 'value' : 125, 'value2' : 140}, 
        {'year' : 2012, 'gender' : 2, 'age' : '0-50', 'value' : 145, 'value2' : 160}, 
        {'year' : 2013, 'gender' : 2, 'age' : '0-50', 'value' : 147, 'value2' : 150},
        {'year' : 2008, 'gender' : 1, 'age' : '50+', 'value' : 126, 'value2' : 130},
        {'year' : 2009, 'gender' : 1, 'age' : '50+', 'value' : 136, 'value2' : 120}, 
        {'year' : 2010, 'gender' : 1, 'age' : '50+', 'value' : 123, 'value2' : 150}, 
        {'year' : 2011, 'gender' : 1, 'age' : '50+', 'value' : 146, 'value2' : 160}, 
        {'year' : 2012, 'gender' : 1, 'age' : '50+', 'value' : 135, 'value2' : 140}, 
        {'year' : 2013, 'gender' : 1, 'age' : '50+', 'value' : 138, 'value2' : 140},
        {'year' : 2008, 'gender' : 2, 'age' : '50+', 'value' : 127, 'value2' : 150},
        {'year' : 2009, 'gender' : 2, 'age' : '50+', 'value' : 115, 'value2' : 100}, 
        {'year' : 2010, 'gender' : 2, 'age' : '50+', 'value' : 136, 'value2' : 160}, 
        {'year' : 2011, 'gender' : 2, 'age' : '50+', 'value' : 133, 'value2' : 140}, 
        {'year' : 2012, 'gender' : 2, 'age' : '50+', 'value' : 124, 'value2' : 120}, 
        {'year' : 2013, 'gender' : 2, 'age' : '50+', 'value' : 146, 'value2' : 160}
      ];
      var schema = {
        'fields' : [
          { 
            'name' : 'year', 'title' : 'Year', 
            'description' : '', 'type' : 'number'
          }, { 
            'name' : 'gender', 'title' : 'Gender',
            'description' : '', 'type' : 'categorical',
            'categories' : [
              {'name': "1", 'title' : 'Male', 'description' : ''},
              {'name': "2", 'title' : 'Female', 'description' : ''}
            ]
          }, { 
            'name' : 'age', 'title' : 'Age',
            'description' : '', 'type' : 'categorical',
            'categories' : [
              {'name': "0-50", 'title' : '0-49 years', 'description' : ''},
              {'name': "50+", 'title' : '50 years and older', 'description' : ''}
            ]
          }, { 
            'name' : 'value', 'title' : 'Value', 
            'description' : '', 'type' : 'number'
          }, { 
            'name' : 'value2', 'title' : 'Value2', 
            'description' : '', 'type' : 'number'
          }
        ]
      };

      var svg = d3.select("#graph").insert("svg")
        .attr("width", w).attr("height", h);

      var graph = grph.bubble();
      graph.width(w).height(h).schema(schema).assign({
        'x' : 'value',
        'y' : 'value2',
        'object' : 'year',
        'colour' : 'gender',
        'row' : 'age'
      }).data(data);
      graph(svg);

    </script>


  </body>

</html>



